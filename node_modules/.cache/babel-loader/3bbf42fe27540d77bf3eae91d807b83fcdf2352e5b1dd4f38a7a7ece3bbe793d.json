{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\loff\\\\phobia-movie-search\\\\src\\\\components\\\\SearchBar.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport './SearchBar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchBar = ({\n  onSearch\n}) => {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [category, setCategory] = useState(\"popular\"); // ‚úÖ „Éá„Éï„Ç©„É´„ÉàÂÄ§„Çí \"popular\" „Å´Ë®≠ÂÆö\n\n  const API_KEY = process.env.REACT_APP_TMDB_API_KEY;\n  const handleSearch = async () => {\n    console.log(\"üîç Ê§úÁ¥¢ÂÆüË°åÔºÅ„Ç´„ÉÜ„Ç¥„É™:\", category, \"„ÇØ„Ç®„É™:\", query);\n    if (!API_KEY) {\n      console.error(\"‚ùå API_KEY „ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„ÇìÔºÅ\");\n      return;\n    }\n\n    // ‚úÖ `category` „Åå `undefined` „ÅÆÂ†¥Âêà„ÇíÈò≤„Åê\n    const validatedCategory = category || \"popular\";\n    const url = query ? `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=ja-JP&query=${query}` : `https://api.themoviedb.org/3/movie/${validatedCategory}?api_key=${API_KEY}&language=ja-JP`;\n    console.log(\"üåç „É™„ÇØ„Ç®„Çπ„ÉàURL:\", url);\n    try {\n      const response = await fetch(url);\n      if (!response.ok) {\n        console.error(`‚ùå API„É™„ÇØ„Ç®„Çπ„ÉàÂ§±Êïó: „Çπ„ÉÜ„Éº„Çø„Çπ„Ç≥„Éº„Éâ ${response.status}`);\n        onSearch([]); // ‚úÖ „Ç®„É©„ÉºÊôÇ„ÇÇ `onSearch([])` „Åß UI Â¥©„Çå„ÇíÈò≤„ÅêÔºÅ\n        return;\n      }\n      const data = await response.json();\n      console.log(\"‚úÖ API„É¨„Çπ„Éù„É≥„Çπ:\", data);\n\n      // ‚úÖ `data.results` „ÅåÈÖçÂàó„Åã„Å©„ÅÜ„Åã„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„ÄÅÂÆâÂÖ®„Å´„Éá„Éº„Çø„Çí„Çª„ÉÉ„ÉàÔºÅ\n      onSearch(Array.isArray(data === null || data === void 0 ? void 0 : data.results) ? data.results : []);\n    } catch (error) {\n      console.error(\"‚ö†Ô∏è Êò†Áîª„Éá„Éº„Çø„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", error);\n      onSearch([]); // ‚úÖ „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„ÉºÊôÇ„ÇÇ `onSearch([])` „ÅßÂÆâÂÖ®„Å´Âá¶ÁêÜÔºÅ\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-bar\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u6620\\u753B\\u3092\\u691C\\u7D22...\",\n      value: query,\n      onChange: e => setQuery(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: category,\n      onChange: e => setCategory(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"popular\",\n        children: \"\\u4EBA\\u6C17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"top_rated\",\n        children: \"\\u9AD8\\u8A55\\u4FA1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"upcoming\",\n        children: \"\\u8FD1\\u65E5\\u516C\\u958B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      children: \"\\u691C\\u7D22\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchBar, \"SEFT21Jrs5UFyiTypoOagzGPWDg=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","SearchBar","onSearch","_s","query","setQuery","category","setCategory","API_KEY","process","env","REACT_APP_TMDB_API_KEY","handleSearch","console","log","error","validatedCategory","url","response","fetch","ok","status","data","json","Array","isArray","results","className","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/loff/phobia-movie-search/src/components/SearchBar.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport './SearchBar.css';\r\n\r\nconst SearchBar = ({ onSearch }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [category, setCategory] = useState(\"popular\"); // ‚úÖ „Éá„Éï„Ç©„É´„ÉàÂÄ§„Çí \"popular\" „Å´Ë®≠ÂÆö\r\n\r\n  const API_KEY = process.env.REACT_APP_TMDB_API_KEY;\r\n\r\n  const handleSearch = async () => {\r\n    console.log(\"üîç Ê§úÁ¥¢ÂÆüË°åÔºÅ„Ç´„ÉÜ„Ç¥„É™:\", category, \"„ÇØ„Ç®„É™:\", query);\r\n\r\n    if (!API_KEY) {\r\n      console.error(\"‚ùå API_KEY „ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„ÇìÔºÅ\");\r\n      return;\r\n    }\r\n\r\n    // ‚úÖ `category` „Åå `undefined` „ÅÆÂ†¥Âêà„ÇíÈò≤„Åê\r\n    const validatedCategory = category || \"popular\";\r\n\r\n    const url = query\r\n      ? `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=ja-JP&query=${query}`\r\n      : `https://api.themoviedb.org/3/movie/${validatedCategory}?api_key=${API_KEY}&language=ja-JP`;\r\n\r\n    console.log(\"üåç „É™„ÇØ„Ç®„Çπ„ÉàURL:\", url);\r\n\r\n    try {\r\n      const response = await fetch(url);\r\n      if (!response.ok) {\r\n        console.error(`‚ùå API„É™„ÇØ„Ç®„Çπ„ÉàÂ§±Êïó: „Çπ„ÉÜ„Éº„Çø„Çπ„Ç≥„Éº„Éâ ${response.status}`);\r\n        onSearch([]); // ‚úÖ „Ç®„É©„ÉºÊôÇ„ÇÇ `onSearch([])` „Åß UI Â¥©„Çå„ÇíÈò≤„ÅêÔºÅ\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log(\"‚úÖ API„É¨„Çπ„Éù„É≥„Çπ:\", data);\r\n\r\n      // ‚úÖ `data.results` „ÅåÈÖçÂàó„Åã„Å©„ÅÜ„Åã„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„ÄÅÂÆâÂÖ®„Å´„Éá„Éº„Çø„Çí„Çª„ÉÉ„ÉàÔºÅ\r\n      onSearch(Array.isArray(data?.results) ? data.results : []);\r\n    } catch (error) {\r\n      console.error(\"‚ö†Ô∏è Êò†Áîª„Éá„Éº„Çø„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", error);\r\n      onSearch([]); // ‚úÖ „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„ÉºÊôÇ„ÇÇ `onSearch([])` „ÅßÂÆâÂÖ®„Å´Âá¶ÁêÜÔºÅ\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-bar\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Êò†Áîª„ÇíÊ§úÁ¥¢...\"\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n      />\r\n      <select value={category} onChange={(e) => setCategory(e.target.value)}>\r\n        <option value=\"popular\">‰∫∫Ê∞ó</option>\r\n        <option value=\"top_rated\">È´òË©ï‰æ°</option>\r\n        <option value=\"upcoming\">ËøëÊó•ÂÖ¨Èñã</option>\r\n      </select>\r\n      <button onClick={handleSearch}>Ê§úÁ¥¢</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}